# ä½¿ç”¨ Rsdoctor

[Rsdoctor](https://rsdoctor.dev/) æ˜¯ä¸€ä¸ªé’ˆå¯¹ `Rspack` çš„æ„å»ºåˆ†æå™¨ï¼Œå¯ä»¥ç›´è§‚åœ°å±•ç¤ºæ„å»ºè¿‡ç¨‹ï¼Œä¾‹å¦‚ç¼–è¯‘æ—¶é—´ã€ç¼–è¯‘å‰åçš„ä»£ç å˜åŒ–ã€æ¨¡å—å¼•ç”¨å…³ç³»ã€é‡å¤æ¨¡å—ç­‰ã€‚å¦‚æœæ‚¨éœ€è¦æ’æŸ¥æ„å»ºäº§ç‰©æˆ–æ„å»ºæ—¶ç¼–è¯‘é—®é¢˜ï¼Œå¯ä»¥ä½¿ç”¨ Rsdoctorã€‚

## ğŸ’¡ ä»€ä¹ˆæ˜¯ Rsdoctorï¼Ÿ

- Rsdoctor æ˜¯ä¸€ä¸ªé¢å‘æ„å»ºè¿‡ç¨‹ä¸æ„å»ºäº§ç‰©æä¾›è¯Šæ–­å’Œåˆ†æçš„ä¸€ç«™å¼å·¥å…·ã€‚
- Rsdoctor æ˜¯ä¸€ä¸ªæ”¯æŒ **Rspack** æˆ– **webpack** æ„å»ºåˆ†æå·¥å…·ã€‚
- Rsdoctor æ˜¯ä¸€ä¸ªå¯ä»¥å±•ç¤ºç¼–è¯‘è€—æ—¶åŠç¼–è¯‘è¡Œä¸ºç»†èŠ‚çš„åˆ†æå·¥å…·ã€‚
- Rsdoctor æ˜¯ä¸€ä¸ªå¯ä»¥æ”¯æŒ **Rspack builtin:swc-loader** æ„å»ºè€—æ—¶åŠæ„å»ºè¡Œä¸ºåˆ†æçš„å·¥å…·

## ğŸ”¥ ç‰¹æ€§

- **ç¼–è¯‘å¯è§†åŒ–**ï¼šRsdoctor å°†ç¼–è¯‘è¡Œä¸ºåŠè€—æ—¶è¿›è¡Œå¯è§†åŒ–å±•ç¤ºï¼Œæ–¹ä¾¿å¼€å‘åŒå­¦æŸ¥çœ‹æ„å»ºé—®é¢˜ã€‚

| <img src="https://github.com/web-infra-dev/rsdoctor/assets/18437716/eea845fa-f19f-49d4-9bc6-6795688e6a33"  alt="loader timeline" /> | <img src="https://lf3-static.bytednsdoc.com/obj/eden-cn/lognuvj/rsdoctor/rsdoctor-analyze-code.png" alt="loader codes" /> |
| ----------------------------------------------------------------------------------------------------------------------------------- | ------------------------------------------------------------------------------------------------------------------------- |

- **å¤šç§åˆ†æèƒ½åŠ›**ï¼šæ”¯æŒæ„å»ºäº§ç‰©ã€æ„å»ºæ—¶åˆ†æèƒ½åŠ›ï¼š
  - æ„å»ºäº§ç‰©æ”¯æŒèµ„æºåˆ—è¡¨åŠæ¨¡å—ä¾èµ–ç­‰ã€‚
  - æ„å»ºæ—¶åˆ†ææ”¯æŒ Loaderã€Pluginã€Resolver æ„å»ºè¿‡ç¨‹åˆ†æã€‚
  - æ”¯æŒ Rspack çš„ builtin:swc-loader åˆ†æã€‚
  - æ„å»ºè§„åˆ™æ”¯æŒé‡å¤åŒ…æ£€æµ‹åŠ ES Version Check æ£€æŸ¥ç­‰ã€‚
- **æ”¯æŒè‡ªå®šä¹‰è§„åˆ™**ï¼šé™¤äº†å†…ç½®æ„å»ºæ‰«æè§„åˆ™å¤–ï¼Œè¿˜æ”¯æŒç”¨æˆ·æ ¹æ® Rsdoctor çš„æ„å»ºæ•°æ®æ·»åŠ è‡ªå®šä¹‰æ„å»ºæ‰«æè§„åˆ™ã€‚
- **æ¡†æ¶æ— å…³**ï¼šæ”¯æŒæ‰€æœ‰åŸºäº **Rspack** æˆ– **webpack** æ„å»ºçš„é¡¹ç›®ã€‚

### ç‰¹æ€§åˆ—è¡¨

æ›´è¯¦ç»†çš„ç‰¹æ€§ä½¿ç”¨ä»‹ç»ä½ å¯ä»¥æŸ¥çœ‹è¿™ç¯‡æ–‡æ¡£ï¼š [features](https://rsdoctor.dev/zh/guide/start/features)ã€‚

## å¿«é€Ÿå¼€å§‹

åœ¨åŸºäº Rspack æ„å»ºå™¨çš„é¡¹ç›®ä¸­ï¼Œä½ å¯ä»¥ä½¿ç”¨ä»¥ä¸‹æ–¹å¼å¼€å¯ Rsdoctorï¼š

1. å®‰è£… `RsdoctorRspackPlugin` æ’ä»¶ï¼š

import { PackageManagerTabs } from '@theme';

<PackageManagerTabs command="add @rsdoctor/rspack-plugin -D" />

2. åœ¨æ„å»ºå‘½ä»¤ä¹‹å‰æ·»åŠ  `RSDOCTOR=true` å˜é‡ï¼š

```bash
# dev
RSDOCTOR=true rspack serve

# build
RSDOCTOR=true rspack build
```

è¿è¡Œä¸Šè¿°å‘½ä»¤åï¼ŒRspack ä¼šè‡ªåŠ¨æ³¨å†Œ Rsdoctor æ’ä»¶ï¼Œå¹¶åœ¨æ„å»ºå®Œæˆåæ‰“å¼€æ„å»ºåˆ†æé¡µé¢ã€‚å®Œæ•´åŠŸèƒ½è¯·å‚è€ƒ [Rsdoctor æ–‡æ¡£](https://rsdoctor.dev/)ã€‚

## Options

:::danger

- è¯·ä¸è¦åœ¨çº¿ä¸Šç‰ˆæœ¬æ„å»ºæ—¶ä½¿ç”¨ Rsdoctorã€‚

:::

åœ¨ `rspack.config.js` çš„ [plugins](https://www.rspack.dev/config/plugins.html#plugins) ä¸­åˆå§‹åŒ– RsdoctorRspackPlugin æ’ä»¶ï¼Œå‚è€ƒï¼š

```ts title="rspack.config.ts"
import { RsdoctorRspackPlugin } from '@rsdoctor/rspack-plugin';

export default {
  // ...
  plugins: [
    // Only register the plugin when RSDOCTOR is true, as the plugin will increase the build time.
    process.env.RSDOCTOR &&
      new RsdoctorRspackPlugin({
        // plugin options
      }),
  ].filter(Boolean),
};
```
